# Timeout API (in millisecondi)
api_timeouts:
  submit_form: 30000
  generate_questions: 60000
  submit_answers: 30000
  generate_draft: 120000
  generate_outline: 120000
  download_pdf: 300000

# Retry logic
retry:
  chapter_generation:
    max_retries: 2
    min_chapter_length: 50  # caratteri

# Validazione
validation:
  min_chapter_length: 50  # caratteri
  words_per_page: 250
  toc_chapters_per_page: 30

# Polling frontend (in millisecondi)
frontend:
  polling_interval: 2000
  polling_interval_critique: 5000  # più lento quando in attesa critica

# Metriche e stima tempo
time_estimation:
  min_chapters_for_reliable_avg: 3
  use_session_avg_if_available: true
  fallback_seconds_per_chapter: 45  # Tempo medio per capitolo quando non ci sono dati storici

# Configurazione modelli LLM
llm_models:
  max_output_tokens:
    gemini_2_5_flash: 8192
    default: 65536  # Per tutti gli altri modelli (Pro 2.5, Flash 3, Pro 3)

# Generazione copertina
cover_generation:
  aspect_ratio: "2:3"  # Ratio per immagini copertina (adatto a PDF A4)

# Configurazione temperature per agenti
# Se non specificata, viene applicata la regola basata sulla versione del modello:
# - Gemini 2.5 (flash o pro): temperatura 0.0
# - Gemini 3.0 (flash o pro): temperatura 1.0
temperature:
  agents:
    # draft_generator: 0.7  # Esempio: scommentare per override
    # outline_generator: 0.7  # Esempio: scommentare per override
    # writer_generator: 0.0  # Esempio: scommentare per override
    # question_generator: 0.7  # Esempio: scommentare per override
    # literary_critic è configurato in literary_critic.yaml

